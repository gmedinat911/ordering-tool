<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üéâ Birthday Drinks Menu üéâ</title>
  <style>
    :root {
      --accent:   #7b5cff;
      --accent-2: #ff6aa8;
      --card:     #ffffff;
      --muted:    #6b7280;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #111827;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      background:
        radial-gradient(1000px 800px at 10% 10%, #ffd6f0 0%, transparent 50%),
        radial-gradient(900px 700px at 90% 20%, #ffe2b8 0%, transparent 55%),
        radial-gradient(900px 900px at 50% 100%, #c8f4ff 0%, transparent 55%),
        linear-gradient(135deg, #fff3fb, #eefaff);
    }

    header {
      text-align: center;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    h1 {
      font-size: 2.5rem;
      color: var(--accent);
      text-shadow: 1px 1px 4px rgba(0,0,0,0.15);
      margin: 0;
    }

    h2 {
      font-size: 1.2rem;
      color: var(--accent-2);
      margin: 0;
    }

    .menu {
      width: 100%;
      max-width: 900px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
      z-index: 1;
    }

    .drink {
      position: relative;
      background: var(--card);
      border-radius: 20px;
      padding: 18px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.10);
      border: 2px dashed #e5e7eb;
      color: #2d2d2d;
      width: calc(50% - 10px);
      box-sizing: border-box;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
      transition: transform .15s ease, box-shadow .15s ease;
    }

    .drink:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 34px rgba(0,0,0,0.14);
    }

    .drink:nth-child(1) { animation-delay: 0s; }
    .drink:nth-child(2) { animation-delay: 0.1s; }
    .drink:nth-child(3) { animation-delay: 0.2s; }
    .drink:nth-child(4) { animation-delay: 0.3s; }
    .drink:nth-child(5) { animation-delay: 0.4s; }
    .drink:nth-child(6) { animation-delay: 0.5s; }

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .drink h3 {
      margin: 0 0 10px;
      color: var(--accent-2);
      font-size: 1.2rem;
    }

    .drink p {
      margin: 0 0 12px;
      font-size: 1rem;
      line-height: 1.4;
      color:#374151;
    }

    .drink .badge {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(255,255,255,0.9);
      color: #d00;
      font-weight: bold;
      padding: 4px 8px;
      border-radius: 8px;
      font-size: 0.85rem;
    }

    .order-btn {
      background: var(--accent);
      color: white;
      padding: 10px 14px;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 800;
      font-size: 1rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 10px 24px rgba(123,92,255,0.35);
      transition: transform .15s ease, box-shadow .15s ease, background-color .2s ease;
    }

    .order-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(123,92,255,0.45);
    }

    .order-btn img {
      height: 16px;
    }

    .order-btn.disabled {
      background-color: #ccc;
      cursor: not-allowed;
      pointer-events: none;
      box-shadow: none;
    }

    .stock-info { display: none; }

    @media (max-width: 600px) {
      .drink { width: 100%; }
    }

    #confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .balloon {
      position: fixed;
      width: 80px;
      height: 100px;
      border-radius: 50% 50% 45% 55%;
      background: radial-gradient(circle at 30% 30%, #fff8, transparent 40%), #ff6aa8;
      box-shadow: inset -10px -16px 24px rgba(0,0,0,0.15);
      animation: float 12s ease-in-out infinite;
      opacity: .75;
      z-index: 0;
    }

    .balloon::after {
      content: "";
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: -26px;
      width: 2px;
      height: 60px;
      background: #2223;
    }

    .b1 { left: 6%;  bottom: -10%; animation-delay: -1s; background:#ff6aa8; }
    .b2 { left: 78%; bottom: -20%; animation-delay: -3s; background:#7b5cff; }
    .b3 { left: 46%; bottom: -15%; animation-delay: -5s; background:#ffd166; }

    @keyframes float {
      0%   { transform: translateY(0) }
      50%  { transform: translateY(-30vh) }
      100% { transform: translateY(0) }
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <header>
    <h1>üéâ HAPPY BIRTHDAY KRISTIN!!!! üéâ</h1>
    <h2>Birthday Drinks Menu üçπ</h2>
  </header>

  <section class="menu">

    <!-- Kristin Bday Margarita -->
    <div class="drink" data-canonical="Tommys Margarita">
      <h3>Kristin Bday Margarita üå∫</h3>
      <p>A lighter take on the classic ‚Äî tequila, fresh lime juice, and agave syrup for a naturally sweet and citrusy refreshment.</p>
      <p class="stock-info"></p>
      <a class="order-btn" href="https://wa.me/19844809046?text=I%27d%20like%20to%20order%20the%20Kristin%20Bday%20Margarita%20!">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">Order WhatsApp
      </a>
    </div>

    <!-- Kristin Mojito -->
    <div class="drink" data-canonical="Regular Mojito">
      <div class="badge">Out of Stock</div>
      <h3>Kristin Mojito üåø</h3>
      <p>Crisp mint leaves muddled with lime and sugar, topped with white rum and soda water for ultimate freshness.</p>
      <p class="stock-info"></p>
      <a class="order-btn disabled"></a>
    </div>

    <!-- Kristin Gin Southside -->
    <div class="drink" data-canonical="Gin Southside">
      <div class="badge">Out of Stock</div>
      <h3>Kristin Gin Southside üç∏</h3>
      <p>A refreshing blend of gin, mint, lime, and simple syrup ‚Äî Kristin‚Äôs twist on the Southside classic.</p>
      <p class="stock-info"></p>
      <a class="order-btn disabled"></a>
    </div>

    <!-- Paloma Paradise -->
    <div class="drink" data-canonical="Paloma">
      <div class="badge">Out of Stock</div>
      <h3>Paloma Paradise üçä</h3>
      <p>Tequila, grapefruit soda, and lime juice create this zesty, bubbly Mexican classic with a touch of sea salt.</p>
      <p class="stock-info"></p>
      <a class="order-btn disabled"></a>
    </div>

    <!-- Cosmo Crush -->
    <div class="drink" data-canonical="Cosmopolitan">
      <div class="badge">Out of Stock</div>
      <h3>Cosmo Crush üíã</h3>
      <p>Elegant and tart ‚Äî vodka, cranberry juice, orange liqueur, and fresh lime served in a chilled martini glass.</p>
      <p class="stock-info"></p>
      <a class="order-btn disabled"></a>
    </div>

    <!-- Espresso Kristinni -->
    <div class="drink" data-canonical="Espresso Martini">
      <h3>Espresso Kristinni ‚òï</h3>
      <p>A creamy caffeine kick ‚Äî vodka, espresso, and coffee liqueur shaken over ice and garnished with espresso beans.</p>
      <p class="stock-info"></p>
      <a class="order-btn" href="https://wa.me/19844809046?text=I%27d%20like%20to%20order%20the%20Espresso%20Kristinni%20!">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">Order WhatsApp
      </a>
    </div>

  </section>

  <div class="balloon b1"></div>
  <div class="balloon b2"></div>
  <div class="balloon b3"></div>

<script>
  (function(){
    const c = document.getElementById('confetti');
    const ctx = c.getContext('2d');
    let W, H, pieces;

    function reset() {
      W = c.width = window.innerWidth;
      H = c.height = window.innerHeight;
      pieces = Array.from({length: 150}, () => ({
        x: Math.random() * W,
        y: Math.random() * -H,
        r: 4 + Math.random() * 6,
        a: Math.random() * Math.PI * 2,
        v: 1 + Math.random() * 3,
        s: 0.01 + Math.random() * 0.02
      }));
    }

    function draw() {
      ctx.clearRect(0, 0, W, H);
      for (const p of pieces) {
        p.y += p.v;
        p.a += p.s;
        if (p.y > H + 20) {
          p.x = Math.random() * W;
          p.y = -20;
        }
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.a);
        ctx.fillStyle = ['#7b5cff','#ff6aa8','#ffd166','#00d3ff','#00d39b'][p.y % 5 | 0];
        ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*1.6);
        ctx.restore();
      }
      requestAnimationFrame(draw);
    }

    window.addEventListener('resize', reset);
    reset();
    draw();
  })();

  (async () => {
    try {
      const res = await fetch('https://whatsapp-cocktail-bot.onrender.com/menu');
      const data = await res.json();
      const menuMap = {};
      data.forEach(item => { menuMap[item.canonical] = item.stock_count; });

      document.querySelectorAll('.drink').forEach(drinkEl => {
        const canonical = drinkEl.getAttribute('data-canonical');
        const stock = menuMap[canonical] || 0;
        const info = drinkEl.querySelector('.stock-info');
        info.textContent = stock > 0 ? `${stock} left` : 'Out of stock';

        let badgeEl = drinkEl.querySelector('.badge');
        if (stock === 0) {
          if (!badgeEl) {
            badgeEl = document.createElement('div');
            badgeEl.className = 'badge';
            drinkEl.insertBefore(badgeEl, drinkEl.firstChild);
          }
          badgeEl.textContent = 'Out of Stock';
          const btn = drinkEl.querySelector('.order-btn');
          btn.classList.add('disabled');
          btn.textContent = '';
          btn.removeAttribute('href');
          btn.innerHTML = '<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/No_entry_sign.svg/1024px-No_entry_sign.svg.png" alt="Out of Stock" style="height:16px;vertical-align:middle;margin-right:6px;">';
        } else if (stock <= 10) {
          if (!badgeEl) {
            badgeEl = document.createElement('div');
            badgeEl.className = 'badge';
            drinkEl.insertBefore(badgeEl, drinkEl.firstChild);
          }
          badgeEl.textContent = 'Low Stock';
          const btn = drinkEl.querySelector('.order-btn');
          btn.classList.remove('disabled');
          btn.innerHTML = '<img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="height:16px;vertical-align:middle;margin-right:6px;">Order WhatsApp';
          const displayName = drinkEl.querySelector('h3').innerText.trim();
          const waNumber = '19844809046';
          const text = encodeURIComponent(`I'd like to order the ${displayName}!`);
          btn.setAttribute('href', `https://wa.me/${waNumber}?text=${text}`);
        } else {
          if (badgeEl) badgeEl.remove();
          const btn = drinkEl.querySelector('.order-btn');
          btn.classList.remove('disabled');
          btn.innerHTML = '<img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="height:16px;vertical-align:middle;margin-right:6px;">Order WhatsApp';
          const displayName = drinkEl.querySelector('h3').innerText.trim();
          const waNumber = '19844809046';
          const text = encodeURIComponent(`I'd like to order the ${displayName}!`);
          btn.setAttribute('href', `https://wa.me/${waNumber}?text=${text}`);
        }
      });
    } catch (err) {
      console.error('Stock script error', err);
    }
  })();
</script>
</body>
</html>